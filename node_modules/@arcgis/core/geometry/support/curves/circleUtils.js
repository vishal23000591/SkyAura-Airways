/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
import{expandPointInPlace as t}from"../aaBoundingRect.js";import{distance2 as n,wrapAtan2 as a,matchWindingAndWrap as s}from"./mathUtils.js";const c=2*Math.PI;class r{constructor(t,n,a,s,c,r){this.cx=t,this.cy=n,this.radius=a,this.thetaStart=s,this.thetaEnd=c,this.isInvalid=r}}function h(t,n){const{cx:a,cy:s,radius:c}=t;return[a+c*Math.cos(n),s+c*Math.sin(n)]}function i(t,n){const{thetaStart:a,thetaEnd:s}=t;return h(t,a*(1-n)+s*n)}function o(t,r){const{cx:h,cy:o,thetaStart:e,thetaEnd:u}=t,[d,M]=r;let f=a(M-o,d-h);f=s(f,e,u);const l=f-e;let m=l/(u-e);if(m<0||m>1){const t=Math.abs(l)%c,n=Math.abs(f-u)%c;m=Math.min(n,c-n)<Math.min(t,c-t)?1:0}const E=i(t,m);return{t:m,curvePoint:E,distance:Math.sqrt(n(r,E))}}function e(n,a){const{thetaStart:c,thetaEnd:r}=a,i=r-c;t(n,h(a,c)),t(n,h(a,r));for(let o=0;o<4;o++){let e=o*(Math.PI/2);e=s(e,c,r);const u=(e-c)/i;u>0&&u<1&&t(n,h(a,e))}return n}function u(t){const{radius:n,thetaStart:a,thetaEnd:s}=t;return n*Math.abs(s-a)}export{r as DerivedCircle,e as circularCurveExtent,u as circularCurveLength,o as closestPointOnCircle,i as interpolateCircle};
