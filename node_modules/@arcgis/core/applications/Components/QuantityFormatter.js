/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
import{_ as s}from"../../chunks/tslib.es6.js";import"../../intl.js";import e from"../../core/Accessor.js";import{createTask as t}from"../../core/asyncUtils.js";import{formatLength as r,formatVerticalLength as o,formatArea as a,formatDecimal as i}from"../../core/quantityFormatUtils.js";import{property as m}from"../../core/accessorSupport/decorators/property.js";import"../../core/has.js";import"../../core/Logger.js";import"../../core/RandomLCG.js";import{subclass as n}from"../../core/accessorSupport/decorators/subclass.js";import{onLocaleChange as c}from"../../intl/locale.js";import{fetchMessageBundle as p}from"../../intl/messages.js";let l=class extends e{constructor(){super()}initialize(){this.addHandles(c((()=>this._load()))),this._load()}destroy(){this._messagesTask.abort()}async when(){await this._messagesTask.promise}_load(){return null!=this._messagesTask&&this._messagesTask.abort(),this._messagesTask=t((()=>p("esri/core/t9n/Units"))),this._messagesTask.promise}get _messages(){return this._messagesTask.value}formatLength(s,e,t){return this._messages?r(this._messages,s,s.unit,e,t):""}formatVerticalLength(s,e,t){return this._messages?o(this._messages,s,s.unit,e,t):""}formatArea(s,e,t){return this._messages?a(this._messages,s,s.unit,e,t):""}formatDecimal(s,e,t){return this._messages?i(this._messages,s,s.unit,e,t):""}};s([m()],l.prototype,"_messagesTask",void 0),s([m()],l.prototype,"_messages",null),l=s([n("esri.applications.Components.QuantityFormatter")],l);const g=l;export{g as default};
