/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
import{_ as e}from"../../chunks/tslib.es6.js";import o from"../../core/Accessor.js";import r from"../../core/Collection.js";import{property as t}from"../../core/accessorSupport/decorators/property.js";import"../../core/has.js";import"../../core/Logger.js";import"../../core/RandomLCG.js";import{subclass as s}from"../../core/accessorSupport/decorators/subclass.js";let n=class extends o{constructor(e){super(e),this.layers=new r,this.lockType="none",this.tables=new r,this.versionInfo=null,this.versionService=null}get layersAndTables(){return new r([...this.layers.toArray(),...this.tables.toArray()])}updateLockType(){this.lockType=this.versionInfo?this.versionService.getLockType(this.versionInfo.versionIdentifier)??"none":"none"}get featureServiceVersion(){return this.featureService.sourceJSON?.currentVersion??0}};e([t({constructOnly:!0})],n.prototype,"canCreateVersion",void 0),e([t({constructOnly:!0})],n.prototype,"canEditVersionedData",void 0),e([t({constructOnly:!0})],n.prototype,"featureService",void 0),e([t({constructOnly:!0})],n.prototype,"layers",void 0),e([t()],n.prototype,"layersAndTables",null),e([t()],n.prototype,"lockType",void 0),e([t({constructOnly:!0})],n.prototype,"tables",void 0),e([t()],n.prototype,"versionInfo",void 0),e([t({constructOnly:!0})],n.prototype,"versionService",void 0),e([t()],n.prototype,"hasAdvancedEditingUserTypeExtension",void 0),e([t()],n.prototype,"loggedInServiceUser",void 0),e([t()],n.prototype,"featureServiceVersion",null),n=e([s("esri.undoredo.support.ServiceVersionInfo")],n);export{n as ServiceVersionInfo};
