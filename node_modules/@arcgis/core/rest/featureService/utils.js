/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
import{parse as e}from"../../layers/support/arcgisLayerUrl.js";import r from"./FeatureService.js";const t=(p,o)=>{for(const s of p)if("feature"===s.type||"subtype-group"===s.type){if(!s.url)continue;const t=e(s.url).url.path,p=o.get(t);if(p)p.layers.push(s);else{const e=new r({url:t}),p=[s];o.set(t,{featureService:e,layers:p})}}else"group"===s.type&&t(s.layers.filter((e=>"feature"===e.type||"subtype-group"===e.type||"group"===e.type)),o)};function p(e){const r=new Map;return t(e,r),r}export{p as createFeatureServices};
