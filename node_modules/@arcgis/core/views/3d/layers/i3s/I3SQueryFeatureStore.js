/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
import{_ as r}from"../../../../chunks/tslib.es6.js";import e from"../../../../core/Accessor.js";import{toConst as t}from"../../../../core/compilerUtils.js";import o from"../../../../core/Evented.js";import{property as s}from"../../../../core/accessorSupport/decorators/property.js";import"../../../../core/Logger.js";import"../../../../core/RandomLCG.js";import{subclass as c}from"../../../../core/accessorSupport/decorators/subclass.js";import{projectBoundingSphere as i}from"../../../../geometry/projection/projectBoundingSphere.js";import{create as n,toRect as p}from"../../../../geometry/support/aaBoundingBox.js";import{intersects as a,create as m}from"../../../../geometry/support/aaBoundingRect.js";import{f as u}from"../../../../chunks/sphere.js";import{ForAllFeaturesReturnType as f}from"../II3SMeshView3D.js";const l=n();let h=class extends e{constructor(r){super(r),this.events=new o}forEach(r){this.forAllFeatures((e=>(r(e),f.CONTINUE)))}forEachBounds(r,e){for(const t of r)e(this.getFeatureExtent(t,l))}forEachInBounds(r,e){this.forAllFeatures((o=>{const s=this.getFeatureExtent(t(o),y);return a(r,p(s,j))&&e(t(o)),f.CONTINUE}),(e=>{if(i(e,this.sourceSpatialReference,d,this.viewSpatialReference),d[0]>=r[0]&&d[2]<=r[2]&&d[1]>=r[1]&&d[3]<=r[3])return f.CONTINUE;const t=Math.max(r[0],Math.min(d[0],r[2])),o=Math.max(r[1],Math.min(d[1],r[3])),s=d[0]-t,c=d[1]-o;return s*s+c*c<=d[3]*d[3]?f.CONTINUE:f.SKIP}))}};r([s({constructOnly:!0})],h.prototype,"featureAdapter",void 0),r([s({constructOnly:!0})],h.prototype,"forAllFeatures",void 0),r([s({constructOnly:!0})],h.prototype,"getFeatureExtent",void 0),r([s({constructOnly:!0})],h.prototype,"sourceSpatialReference",void 0),r([s({constructOnly:!0})],h.prototype,"viewSpatialReference",void 0),h=r([c("esri.views.3d.layers.i3s.I3SQueryFeatureStore")],h);const d=u(0,0,0,0),y=n(),j=m();export{h as I3SQueryFeatureStore};
