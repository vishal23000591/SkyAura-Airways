/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
import{getReferenceEllipsoid as e}from"../../../../geometry/ellipsoidUtils.js";import{create as t}from"../../../../geometry/support/aaBoundingRect.js";class i{constructor(e,i,r,h,n=l(e,i,r)){this._tilingScheme=h,this.id=n,this.lij=[0,0,0],this.extent=t(),this.measures=new s,this.loadPriority=0,this.used=!1,this.lij[0]=this.measures.lodLevel=e,this.lij[1]=i,this.lij[2]=r,h.getExtent(e,i,r,this.extent)}get planetRadius(){return e(this.spatialReference).radius}get spatialReference(){return this._tilingScheme.spatialReference}get resolution(){return this._tilingScheme.resolutionAtLevel(this.measures.lodLevel)}get level(){return this.lij[0]}get lodLevelDelta(){return this.measures.lodLevel-this.level}createChildren(){const e=this.lij[0]+1,t=2*this.lij[1],s=2*this.lij[2];return[new i(e,t,s,this._tilingScheme),new i(e,t+1,s,this._tilingScheme),new i(e,t,s+1,this._tilingScheme),new i(e,t+1,s+1,this._tilingScheme)]}}class s{constructor(){this.visible=!0,this.distance=0,this.lodLevel=0,this.splitPriority=0,this.mergeable=!0}}function l(e,t,i){return`${e}/${t}/${i}`}export{i as FeatureTileDescriptor,l as getFeatureTileId};
