/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
import{FeatureSymbologyDrawOrder as e}from"../../../enums.js";import{FeatureTechnique as t}from"../FeatureTechnique.js";import{isHittest as r,getSelectionDefines as s,getFeatureUniforms as o,resolveDynamicUniforms as i,getFeaturePipelineState as n}from"../featureTechniqueUtils.js";import{TechniqueType as a}from"../TechniqueType.js";import{MarkerShader as m}from"./MarkerShader.js";class u extends t{constructor(){super(...arguments),this.type=a.Marker,this.shaders={geometry:new m},this.symbologyPlane=e.MARKER}render(e,t){const{context:a,painter:m}=e,u=t.instance.getInput();m.setShader({shader:this.shaders.geometry,uniforms:{...i(e,t.target,u.uniforms),...o(e,t.target),mosaicInfo:m.textureManager.getMosaicInfo(a,t.textureKey,!0)},defines:{...s(e)},optionalAttributes:u.optionalAttributes,useComputeBuffer:r(e)}),m.setPipelineState(n(e)),m.submitDraw(e,t)}}export{u as MarkerTechnique};
