/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
import{floor as n,IVec2 as l,Int as t,texelFetch as e,fract as y,mix as d,Vec4 as w,texture2D as a}from"../../../graph/glsl.js";import{oneMinus as i}from"../utils.js";function m(m,p,r,u){const x=n(p.multiply(r)),o=new l(new t(x.x),new t(x.y)),s=new l(o.x.add(1),o.y),f=new l(o.x,o.y.add(1)),c=new l(o.x.add(1),o.y.add(1)),g=e(m,o,new t(0)),j=e(m,s,new t(0)),h=e(m,f,new t(0)),z=e(m,c,new t(0)),b=y(p.multiply(r)),k=d(g,j,b.x),q=d(h,z,b.x),v=d(k,q,b.y);if(!u)return v;const A=new w(g.a,j.a,h.a,z.a),B=A.xy.multiply(A.zw),C=n(B.x.multiply(B.y).add(.5)),D=v.multiply(C),E=i(C).multiply(a(m,p));return D.add(E)}export{m as sampleBilinear};
