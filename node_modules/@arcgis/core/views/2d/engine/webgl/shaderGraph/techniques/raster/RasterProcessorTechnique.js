/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
import{tileSize as e}from"../../../definitions.js";import{Technique as o}from"../Technique.js";import{RasterTechniqueType as r}from"../TechniqueType.js";import{AspectTechnique as s}from"./processor/AspectTechnique.js";import{BandArithmeticTechnique as t}from"./processor/BandArithmeticTechnique.js";import{ColormapToRGBTechnique as i}from"./processor/ColormapToRGBTechnique.js";import{CompositeBandTechnique as c}from"./processor/CompositeBandTechnique.js";import{ComputeChangeTechnique as p}from"./processor/ComputeChangeTechnique.js";import{ContrastBrightnessTechnique as n}from"./processor/ContrastBrightnessTechnique.js";import{ConvolutionTechnique as m}from"./processor/ConvolutionTechnique.js";import{CurvatureTechnique as h}from"./processor/CurvatureTechnique.js";import{ExtractBandTechnique as u}from"./processor/ExtractBandTechnique.js";import{FocalStatisticsTechnique as a}from"./processor/FocalStatisticsTechnique.js";import{GrayscaleTechnique as f}from"./processor/GrayscaleTechnique.js";import{HillshadeTechnique as q}from"./processor/HillshadeTechnique.js";import{LocalTechnique as j}from"./processor/LocalTechnique.js";import{MaskTechnique as T}from"./processor/MaskTechnique.js";import{NDVITechnique as l}from"./processor/NDVITechnique.js";import{RemapTechnique as d}from"./processor/RemapTechnique.js";import{ReprojectTechnique as C}from"./processor/ReprojectTechnique.js";import{ShadedReliefTechnique as B}from"./processor/ShadedReliefTechnique.js";import{SlopeTechnique as _}from"./processor/SlopeTechnique.js";import{StretchTechnique as R}from"./processor/StretchTechnique.js";import{createNewFBO as S}from"./processor/textureUtils.js";const g=new Map([["Aspect",s],["BandArithmetic",t],["ColormapToRGB",i],["CompositeBand",c],["ComputeChange",p],["ContrastBrightness",n],["Convolution",m],["Curvature",h],["ExtractBand",u],["Grayscale",f],["Hillshade",q],["Local",j],["Mask",T],["NDVI",l],["Remap",d],["Reproject",C],["ShadedRelief",B],["Slope",_],["Statistics",a],["Stretch",R]]);class v extends o{constructor(){super(...arguments),this.type=r.RasterProcessor,this.shaders={},this._techniques=new Map}shutdown(e){super.shutdown(e),this._fbo?.dispose(),this._fbo=void 0;for(const o of this._techniques.values())o.shutdown();this._techniques.clear()}render(o,r){this._fbo??=S(o.context,e,e);let{name:s}=o.rasterFunction;if("Arithmetic"===s&&(s="Local"),!this._techniques.has(s)){const e=g.get(s);if(!e)return;this._techniques.set(s,new e)}this._techniques.get(s).render(o,{...r,processorFbo:this._fbo})}}export{v as RasterProcessorTechnique};
