/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
import{_ as e}from"../../../../../../../../../chunks/tslib.es6.js";import{uniform as t,UniformGroup as s}from"../../../../GraphShaderModule.js";import{Vec2 as i,negate as r,sign as l,abs as o,Float as p,step as m,mod as d,atan as a,mix as c,Vec4 as n}from"../../../../graph/glsl.js";import{getSurfaceValues as u,computeDeltaZ as y}from"../surface.js";import{BaseRasterProcessorShader as f}from"./BaseRasterProcessorShader.js";class h extends s{}e([t(i)],h.prototype,"cellSize",void 0);class g extends f{constructor(){super(...arguments),this.type="AspectShader"}_process(e){const{texture:t}=this.config,s=u(t,e,this.config.srcImageSize),f=new i(1).divide(this.aspectConfig.cellSize.multiply(8)),{x:h,y:g}=y(s,f),w=r(g),S=s[9].multiply(l(o(h).add(o(w)))),j=o(l(h)),x=new p(3.14159265359),v=new p(0),z=m(v,w).multiply(.5).multiply(x).add(m(w,v).multiply(1.5).multiply(x)),C=d(new p(2.5).multiply(x).add(a(w,r(h))),new p(2).multiply(x)),_=c(z,C,j).multiply(180).divide(x);return new n(_,_,_,S)}}e([t(h)],g.prototype,"aspectConfig",void 0);export{g as AspectShader};
