/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
import{_ as t}from"../../../../../../../../chunks/tslib.es6.js";import{uniform as o,UniformGroup as i}from"../../../GraphShaderModule.js";import{Vec4 as r,clamp as u,step as m,Float as p,sign as a,Vec3 as e,pow as n}from"../../../graph/glsl.js";import{oneMinus as d}from"../utils.js";class f extends i{}function s(t,o){const{minCutOff:i,maxCutOff:r,factor:m,minOutput:p}=o;return u(t,i,r).subtract(i).multiply(m).add(p)}function l(t,o){const{minCutOff:i,maxCutOff:r,minOutput:f,maxOutput:s,gamma:l,gammaCorrection:c}=o,y=u(t,i,r).subtract(i),v=r.subtract(i),O=y.divide(v),b=m(new p(1),l),g=a(l.subtract(1)),C=s.subtract(f),x=new e(1),h=n(x.divide(C),O.multiply(c)),j=d(b.multiply(g).multiply(h)),w=n(O,x.divide(l)),k=j.multiply(C).multiply(w).add(f);return u(k,f,s)}function c(t,o,i,u=255){const m=i?l(t.rgb,o).divide(u):s(t.rgb,o);return new r(m,t.a)}t([o(p)],f.prototype,"minOutput",void 0),t([o(p)],f.prototype,"maxOutput",void 0),t([o(e)],f.prototype,"minCutOff",void 0),t([o(e)],f.prototype,"maxCutOff",void 0),t([o(e)],f.prototype,"factor",void 0),t([o(e)],f.prototype,"gamma",void 0),t([o(e)],f.prototype,"gammaCorrection",void 0);export{f as StretchConfig,c as stretch};
